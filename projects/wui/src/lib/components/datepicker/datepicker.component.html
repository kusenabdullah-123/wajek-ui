<div class="outer">
    <div class="inner" #inner>
        <div class="currentDate">
            <div>
                <div class="day">{{date | date: 'EEEE'}}</div>
                <div class="date">{{date | date: 'dd MMM yyyy'}} <span>{{date | date: 'hh:mm:ss'}}</span></div>
            </div>
            <a (click)="close()">
                <span class="mdi mdi-close"></span>
            </a>
        </div>
        <div class="display">
            <ng-container *ngIf="mode=='date'">
                <div class="d-flex">
                    <a (click)="prev()" class="prev">
                        <span class="mdi mdi-chevron-left"></span>
                    </a>
                    <div class="col p-0 d-flex justify-content-center align-items-center" (click)="changeMode('month')">
                        {{shortMonth(months[month]) | uppercase}} {{year}}
                    </div>
                    <a (click)="next()" class="next">
                        <span class="mdi mdi-chevron-right"></span>
                    </a>
                </div>
                <div class="dates">
                    <div *ngFor="let d of dayLabels" class="days">
                        <span>{{d}}</span>
                    </div>
                    <a *ngFor="let d of dates" (click)="selectDate(d)" class="{{(isSelected(d)?'selected':'')}}">
                        <span>{{getDate(d)}}</span>
                    </a>
                </div>
                <div class="d-flex justify-content-between mt-3">
                    <button class="btn btn-light" type="button" (click)="changeMode('time')">Time</button>
                    <button class="btn btn-light" type="button" (click)="setToday()">Today</button>
                    <button class="btn btn-light" type="button" (click)="submit()">Set</button>
                </div>
            </ng-container>
            <ng-container *ngIf="mode=='month'">
                <div class="d-flex">
                    <a (click)="prev()" class="prev">
                        <span class="mdi mdi-chevron-left"></span>
                    </a>
                    <div (click)="changeMode('year')" class="col p-0 d-flex justify-content-center align-items-center">
                        {{year}}
                    </div>
                    <a (click)="next()" class="next">
                        <span class="mdi mdi-chevron-right"></span>
                    </a>
                </div>
                <div class="months">
                    <a *ngFor="let m of months; let i = index" (click)="selectMonth(i)" class="{{(isSelected(i)?'selected':'')}}">
                        <span>{{shortMonth(m)}}</span>
                    </a>
                </div>
            </ng-container>
            <ng-container *ngIf="mode=='year'">
                <div class="d-flex">
                    <a (click)="prev()" class="prev">
                        <span class="mdi mdi-chevron-left"></span>
                    </a>
                    <div class="col p-0 d-flex justify-content-center align-items-center">
                        {{decadeStart()}} - {{decadeEnd()}}
                    </div>
                    <a (click)="next()" class="next">
                        <span class="mdi mdi-chevron-right"></span>
                    </a>
                </div>
                <div class="years">
                    <a *ngFor="let y of years" (click)="selectYear(y)" class="{{(isSelected(y)?'selected':'')}}">
                        <span>{{y}}</span>
                    </a>
                </div>
            </ng-container>
            <ng-container *ngIf="mode=='time'">
                <div class="d-flex time-selector">
                    <div class="d-flex flex-column col-4">
                        <a (click)="incTime('hour')">
                            <span class="mdi mdi-chevron-up"></span>
                        </a>
                        <input type="number" class="form-control text-center" [(ngModel)]="hour">
                        <a (click)="decTime('hour')">
                            <span class="mdi mdi-chevron-down"></span>
                        </a>
                    </div>
                    <div class="d-flex flex-column col-4">
                        <a (click)="incTime('min')">
                            <span class="mdi mdi-chevron-up"></span>
                        </a>
                        <input type="number" class="form-control text-center" [(ngModel)]="minute">
                        <a (click)="decTime('min')">
                            <span class="mdi mdi-chevron-down"></span>
                        </a>
                    </div>
                    <div class="d-flex flex-column col-4">
                        <a (click)="incTime('sec')">
                            <span class="mdi mdi-chevron-up"></span>
                        </a>
                        <input type="number" class="form-control text-center" [(ngModel)]="second">
                        <a (click)="decTime('sec')">
                            <span class="mdi mdi-chevron-down"></span>
                        </a>
                    </div>
                </div>
                <div class="d-flex justify-content-between mt-3">
                    <button class="btn btn-light" type="button" (click)="changeMode('date')">Back</button>
                    <button class="btn btn-light" type="button" (click)="setTime()">OK</button>
                </div>
            </ng-container>
        </div>
    </div>
</div>