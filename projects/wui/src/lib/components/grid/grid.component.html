<table *ngIf="showHeader">
  <thead>
    <tr>
      <th *ngFor="let col of columns" class="text-{{col.align}}"  [style.width]="col.actualWidth">
        {{col.label}}
      </th>
      <th *ngIf="rowContextMenu" class="col-context"></th>
    </tr>
  </thead>
</table>
<div class="table-container" #tableContainer>
  <table #tableBody>
    <tbody>
      <tr *ngFor="let d of data; let rowIndex=index" (click)="selectRow(rowIndex);" class="{{rowIndex==selectedRow?'selected':''}}" (dblclick)="rowDblClick.emit(d)">
        <td *ngFor="let col of columns; let colIndex=index" class="text-{{col.align}} {{col.customClass}}"  [style.width]="col.actualWidth">
          <ng-container *ngIf="col.template">
            <ng-container *ngTemplateOutlet="col.template; context: {$implicit: {
              rowIndex: rowIndex,
              colIndex: colIndex,
              data: d
            }}"></ng-container>
          </ng-container>
          <ng-container *ngIf="!col.template">
            {{d[col.field]}}
          </ng-container>
        </td>
        <td *ngIf="rowContextMenu" class="col-context">
          <span class="mdi mdi-dots-horizontal" (click)="rowContextMenu.open($event.target.getBoundingClientRect())"></span>
        </td>
      </tr>
    </tbody>
  </table>
  <wui-loading mode="circular" *ngIf="showLoading"></wui-loading>
  <div class="empty" *ngIf="!showLoading && data.length==0">
    <span>
      No Data
    </span>
  </div>
</div>
<table *ngIf="showFooter">
  <thead>
    <tr>
      <th *ngFor="let col of columns" class="text-{{col.align}}">
        <ng-container *ngIf="col.footerTemplate">
          <ng-container *ngTemplateOutlet="col.footerTemplate"></ng-container>
        </ng-container>
      </th>
      <th *ngIf="rowContextMenu" class="col-context"></th>
    </tr>
  </thead>
</table>